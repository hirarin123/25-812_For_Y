<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>謎解きゲーム</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  html, body {
    margin:0; padding:0; height:100%;
    font-family:'Yu Gothic',sans-serif; color:#fff;
    background: url('Q_bg.png') center/cover no-repeat fixed;
    display:flex; align-items:center; justify-content:center;
  }
  .container {
    text-align:center;
    background: rgba(0,0,0,0.6);
    padding:20px;
    border-radius:12px;
  }
  img { max-width:90vw; max-height:50vh; border-radius:8px; }
  input {
    font-size:18px; padding:8px; border-radius:6px; border:none; margin-top:10px;
  }
  button {
    font-size:18px; padding:8px 16px; margin-top:10px;
    border:none; border-radius:6px; cursor:pointer; font-weight:bold;
  }
  .correct { color:#0f0; font-size:20px; margin-top:10px; }
  .wrong { color:#f66; font-size:20px; margin-top:10px; }
</style>
</head>
<body>
<div class="container">
  <img id="puzzleImg" src="" alt="謎解き画像">
  <div>
    <input type="text" id="answerBox" placeholder="答えを入力">
  </div>
  <div>
    <button id="submitBtn">送信</button>
    <button id="nextBtn" style="display:none;">次へ</button>
  </div>
  <div id="resultMsg"></div>
</div>

<script>
  // 10問の問題設定（画像と答え）
  const puzzles = [
    { img: 'q1.png', answer: 'かやば' },
    { img: 'q2.png', answer: 'はなび' },
    { img: 'q3.png', answer: 'りょう' },
  ];

  let current = 0;

  function loadPuzzle(index) {
    document.getElementById('puzzleImg').src = puzzles[index].img;
    document.getElementById('answerBox').value = '';
    document.getElementById('resultMsg').textContent = '';
    document.getElementById('submitBtn').style.display = 'inline-block';
    document.getElementById('nextBtn').style.display = 'none';
  }

  document.getElementById('submitBtn').onclick = () => {
    const ans = document.getElementById('answerBox').value.trim().toLowerCase();
    if (ans === puzzles[current].answer.toLowerCase()) {
      document.getElementById('resultMsg').textContent = '正解';
      document.getElementById('resultMsg').className = 'correct';
      document.getElementById('submitBtn').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'inline-block';
    } else {
      document.getElementById('resultMsg').textContent = '不正解';
      document.getElementById('resultMsg').className = 'wrong';
    }
  };

  document.getElementById('nextBtn').onclick = () => {
    current++;
    if (current < puzzles.length) {
      loadPuzzle(current);
    } else {
      document.querySelector('.container').innerHTML = '<h1>ハピバ</h1>';
    }
  };

  // 最初の問題読み込み
  loadPuzzle(current);
</script>
</body>
</html>

